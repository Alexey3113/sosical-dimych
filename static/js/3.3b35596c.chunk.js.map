{"version":3,"sources":["hoc/withAuthRedirect.js","components/Profile/MyPosts/MyPosts.module.css","components/Profile/Profile.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.module.css","assets/userphoto.png","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusHook.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/MyPostsForm.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileComponent.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileStatusHook","useState","editMode","setEditMode","status","setState","useEffect","className","onDoubleClick","onChange","e","currentTarget","value","autoFocus","onBlur","updateStatus","ProfileInfo","profile","s","description","userImg","src","photos","large","small","userPhoto","alt","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Preloader","maxLength20","maxLengthCreator","MyPostsReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","placeholder","name","posts__textarea","validate","required","posts__btn","Post","message","likesCount","post","MyPosts","memo","postElements","posts","map","p","id","console","log","allPosts","myPosts","values","addPost","textPost","comments","superMyPostsContainer","profilePage","newPostText","dispatch","addPostActionCreator","Profile","content","MyPostsContainer","ProfileContainer","userId","match","params","authorizedUser","history","push","getProfile","getStatus","compose","setProfile","withRouter"],"mappings":"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","file":"static/js/3.3b35596c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToProps)(RedirectComponent)\r\n    return ConnectedAuthRedirectComponent\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allPosts\":\"MyPosts_allPosts__2vkTo\",\"posts__textarea\":\"MyPosts_posts__textarea__2NgQz\",\"myPosts\":\"MyPosts_myPosts__3mvOV\",\"posts__btn\":\"MyPosts_posts__btn__3qlcX\",\"comments\":\"MyPosts_comments__coFoc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Profile_content__CYhW6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileInfo_description__1KAz8\",\"userImg\":\"ProfileInfo_userImg__2AUuk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2gWPW\"};","export default __webpack_public_path__ + \"static/media/userphoto.28e44cb7.png\";","import React from \"react\";\r\n\r\n\r\n\r\n\r\nclass ProfileStatus extends React.Component {\r\n    \r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    }\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.updateStatus(this.state.status)\r\n        // debugger\r\n        // this.props.updateStatus(\"Hello\")\r\n    }\r\n    onChangeValueInput = (e) =>{\r\n        debugger;\r\n        this.setState({\r\n            status: e.currentTarget.value\r\n            \r\n        })\r\n    }\r\n    componentDidUpdate(prevProps, prevState){\r\n        if (prevProps.status !== this.props.status){\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n\r\n                <div className=\"\"><h5>Статус: </h5>\r\n                    {!this.state.editMode && <span onDoubleClick={this.activateEditMode}>{this.props.status}</span>}\r\n\r\n\r\n                </div>\r\n                {/* <div className=\"\">\r\n                    <textarea />\r\n                </div> */}\r\n                <div>\r\n                    {this.state.editMode && <input autoFocus={true} onChange={this.onChangeValueInput} onBlur={this.deactivateEditMode} value={this.state.status} />}                </div>\r\n\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\nexport default ProfileStatus;","import React, { useEffect, useState } from \"react\";\r\n\r\n\r\n\r\n\r\nconst ProfileStatusHook = (props) => {\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [state, setState] = useState(props.status)\r\n\r\n    useEffect( () => {\r\n        setState(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () =>{\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = () =>{\r\n        setEditMode(false)\r\n        props.updateStatus(state)\r\n    }\r\n    const onChangeValueInput = (e) => {\r\n        setState(e.currentTarget.value)\r\n    }\r\n    \r\n\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"\"><h5>Статус: </h5>\r\n                {!editMode && <span onDoubleClick={activateEditMode}>{props.status}</span>}\r\n\r\n\r\n            </div>\r\n            {/* <div className=\"\">\r\n                    <textarea />\r\n                </div> */}\r\n            <div>\r\n                {editMode && <input onChange={onChangeValueInput} autoFocus={true} onBlur={deactivateEditMode} value={state} />}   </div>\r\n\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n\r\n\r\n}\r\n\r\nexport default ProfileStatusHook;","import s from \"./ProfileInfo.module.css\";\r\nimport React from \"react\";\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/userphoto.png\"\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport ProfileStatusHook from \"./ProfileStatusHook\";\r\n\r\n\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n        <div>\r\n            {/* <div className=\"\"><img src=\"https://webneel.com/wallpaper/sites/default/files/images/08-2018/3-nature-wallpaper-mountain.jpg\" alt=\"imag2\" /></div> */}\r\n\r\n            <div className={s.description}>\r\n                <div className={s.userImg}>\r\n                    <img src={props.profile.photos.large || props.profile.photos.small || userPhoto || \"Ошибка фотки\"} alt=\"\"  />\r\n                </div>\r\n                <div className=\"fullname\">{props.profile.fullName}</div>\r\n                {/* <div className=\"\"><h5>Обо мне: </h5>{props.profile.aboutMe || \"-\"}</div> */}\r\n                <ProfileStatusHook aboutMe={props.profile.aboutMe} status={props.status} updateStatus={props.updateStatus} />\r\n                <h5>Ищет работу? </h5> {props.profile.lookingForAJob ? \"Да\" : \"Нет\"}.\r\n                 <h5>Описание поиска работы:</h5> {props.profile.lookingForAJobDescription || \"Отсутсвует.\"}\r\n            </div>\r\n\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { Textarea } from \"../../../common/FormsControl/FormsControls\";\r\n\r\nimport { required, maxLengthCreator } from \"../../../utils/validations\";\r\nimport s from \"./MyPosts.module.css\";\r\n\r\nconst maxLength20 = maxLengthCreator(20)\r\n\r\nconst MyPostsForm = (props) => {\r\n   \r\n    return (\r\n        <form className=\"posts__buttons\" onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} placeholder={\"Add your new post\"} name={\"textPost\"} className={s.posts__textarea} validate={[required, maxLength20]} />\r\n            <button className={s.posts__btn}>Отправить</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst MyPostsReduxForm = reduxForm({form: \"addPostForm\"})(MyPostsForm)\r\n\r\nexport default MyPostsReduxForm;","import s from \"./Post.module.css\";\r\nimport React from \"react\";\r\n\r\n\r\nconst Post = ({message, likesCount}) => {\r\n    return (\r\n        <div className={s.post}>\r\n            {message}\r\n            <div>\r\n                Likes - {likesCount}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Post;","import React from \"react\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport MyPostsReduxForm from \"./MyPostsForm\";\r\nimport Post from \"./Post/Post\";\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    let postElements = props.posts.map(p => <Post message={p.message} likesCount={p.likesCount} key={p.id} />)\r\n\r\n    const addNewPost = (values) => {\r\n        props.addPost(values.textPost)\r\n    }\r\n    console.log(\"RENDER\")\r\n    return (\r\n    \r\n        <div className={s.allPosts}>\r\n            <h3 className={s.myPosts}>My posts</h3>\r\n            <div>\r\n                New posts:\r\n                <MyPostsReduxForm onSubmit={addNewPost} />\r\n            </div>\r\n            <div className={s.comments}>\r\n                {postElements}\r\n\r\n\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport default MyPosts;","// import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n// import Post from \"./Post/Post\";\r\nimport {addPostActionCreator } from \"../../../redux/profile-reducer\"\r\nimport MyPosts from \"./MyPosts\";\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText      \r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (textPost) => dispatch(addPostActionCreator(textPost))\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\nconst superMyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n\r\nexport default superMyPostsContainer;","import s from \"./Profile.module.css\";\r\nimport React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n// import profileReducer from \"../../redux/profile-reducer\";\r\n\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className={s.content}>\r\n            <ProfileInfo profile={props.profile} isAuth={props.isAuth} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer />\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { setProfile, getProfile, getStatus, updateStatus } from \"../../redux/profile-reducer\"\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n\r\n        let userId = this.props.match.params.userId\r\n        if(!userId){\r\n            userId = this.props.authorizedUser\r\n            if(!userId){\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n        \r\n        this.props.getProfile(userId)\r\n        \r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} />\r\n        );\r\n    }\r\n}\r\n// const withUrlDataContainerComponent = withRouter(ProfileContainer)\r\n// const authRedirectComponent = withAuthRedirect(withUrlDataContainerComponent)\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUser: state.auth.userId\r\n    }\r\n}\r\n\r\n\r\n// let withUrlDataContainerComponent = withRouter(ProfileContainer)\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { setProfile, getProfile, getStatus, updateStatus }),\r\n    withRouter,\r\n    withAuthRedirect)(ProfileContainer)\r\n;"],"sourceRoot":""}