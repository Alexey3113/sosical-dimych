{"version":3,"sources":["redux/profile-reducer.js","redux/dialogs-reducer.js","components/Users/Users.module.css","api/api.js","redux/auth-reducer.js","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","utils/object-helpers.js","redux/users-reducer.js","common/Paginaton/Pagination.jsx","assets/1.png","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderComponent.jsx","redux/app-reducer.js","hoc/withSuspense.js","App.js","reportWebVitals.js","redux/redux-store.js","index.js","common/FormsControl/FormsControls.jsx","components/Navbar/Navbar.module.css","assets/loading.gif","common/Preloader/Preloader.jsx","common/FormsControl/FormsControls.module.css","common/Paginaton/Pagination.module.css","utils/validations.js","Login/Login.jsx","components/Header/Header.module.css"],"names":["ADD_POST","SET_PROFILE","SET_STATUS","initialState","posts","id","message","likesCount","newPostText","profile","status","addPostActionCreator","textPost","type","setProfile","getProfile","userId","dispatch","profileAPI","then","data","setStatus","getStatus","updateStatus","resultCode","profileReducer","state","action","newPost","ADD_MESSAGE_NAME","messages","dialogs","name","messageText","addMessageActionCreator","textOfMessage","dialogsReducer","newMessageName","module","exports","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","response","follow","post","unfollow","delete","put","headerAPI","getAuth","login","email","password","rememberMe","logout","SET_USER_DATA","isAuth","setAuthUserData","a","stopSubmit","_error","authReducer","Navbar","className","s","nav","to","activeClassName","active","Music","props","Settings","usersMapping","items","objectId","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setTotalUsersCount","toggleIsFetching","toggleFollowingProgress","isFollowing","followUnfollow","apiMethod","usersReducer","followed","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","p","cn","selectedPage","pageNumber","e","User","img","src","photos","small","userPhoto","alt","disabled","some","Users","createSelector","usersPage","getTotalUsersCount","getPageSize","getCurrentPage","getIsFetching","getFollowingInProgress","UsersApiContainer","setCurrentPage","requestUsers","this","Preloader","React","Component","UsersContainer","connect","totalCount","Header","header","loginUser","HeaderContainer","auth","INITIALIZED_SUCCESS","initialized","appReducer","withSuspense","fallback","ProfileComponent","lazy","DialogsContainer","App","initializedApp","path","render","Login","compose","withRouter","appInitialized","promise","Promise","all","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","profilePage","dialogsPage","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","document","getElementById","FormControl","input","meta","touched","error","child","hasError","formsControl","children","Textarea","restProps","Input","createField","placeholder","nameField","validate","component","text","loadingGif","style","width","required","value","maxLengthCreator","maxLength","length","LoginReduxForm","reduxForm","handleSubmit","onSubmit","formsSummaryError","formData"],"mappings":"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","file":"static/js/main.857c63a5.chunk.js","sourcesContent":["import {\r\n    profileAPI\r\n} from \"../api/api\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_PROFILE = \"SET_PROFILE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\n// const UPDATE_STATUS = \"UPDATE_STATUS\";\r\n\r\n\r\nlet initialState = {\r\n\r\n    posts: [{\r\n            id: 1,\r\n            message: \"It`s my first msg\",\r\n            likesCount: 22\r\n        },\r\n        {\r\n            id: 2,\r\n            message: \"It`s my second text country\",\r\n            likesCount: 18\r\n        },\r\n    ],\r\n    newPostText: \"k\",\r\n    profile: null,\r\n    status: null\r\n\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.textPost,\r\n                likesCount: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: \"\"\r\n\r\n            }\r\n            // copyState.posts = [...state.posts]\r\n\r\n            // copyState.posts.push(newPost);\r\n            // copyState.newPostText = ''\r\n            // return copyState;\r\n        }\r\n        case SET_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\nexport const addPostActionCreator = (textPost) => {\r\n    return {\r\n        type: ADD_POST,\r\n        textPost\r\n    }\r\n}\r\n\r\nexport const setProfile = (profile) => {\r\n    return {\r\n        type: SET_PROFILE,\r\n        profile\r\n    }\r\n}\r\n\r\nexport const getProfile = (userId) => {\r\n    return (dispatch) => {\r\n        profileAPI.getProfile(userId)\r\n\r\n            .then(data => {\r\n                // debugger\r\n                dispatch(setProfile(data))\r\n            })\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => {\r\n    return {\r\n        type: SET_STATUS,\r\n        status\r\n    }\r\n}\r\n\r\nexport const getStatus = (userId) => {\r\n    return (dispatch) => {\r\n\r\n        profileAPI.getStatus(userId)\r\n            .then(data => {\r\n                // debugger\r\n                dispatch(setStatus(data))\r\n\r\n            })\r\n\r\n    }\r\n}\r\nexport const updateStatus = (status) => {\r\n    return (dispatch) => {\r\n        debugger;\r\n        profileAPI.updateStatus(status).then(data => {\r\n            if(data.resultCode === 0){\r\n                dispatch(setStatus(status))\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport default profileReducer;","const ADD_MESSAGE_NAME = \"ADD-MESSAGE-NAME\";\r\n\r\n\r\nlet initialState = {\r\n\r\n    messages: [{\r\n            id: 1,\r\n            message: \"Hi\"\r\n        },\r\n        {\r\n            id: 2,\r\n            message: \"Hi wrld\"\r\n        },\r\n        {\r\n            id: 3,\r\n            message: \"Hi react\"\r\n        },\r\n        {\r\n            id: 4,\r\n            message: \"Hi makar\"\r\n        }\r\n    ],\r\n    dialogs: [{\r\n            name: \"Dima\",\r\n            id: 1\r\n        },\r\n        {\r\n            name: \"Lesha\",\r\n            id: 2\r\n        },\r\n        {\r\n            name: \"Makar\",\r\n            id: 3\r\n        },\r\n        {\r\n            name: \"Danya\",\r\n            id: 4\r\n        },\r\n        {\r\n            name: \"Sasha\",\r\n            id: 5\r\n        },\r\n\r\n    ],\r\n    messageText: \"red\"\r\n\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_MESSAGE_NAME: {\r\n            debugger;\r\n\r\n            let newMessageName = {\r\n                id: 6,\r\n                message: action.textOfMessage,\r\n            }\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, newMessageName],\r\n                // messageText: \"\"\r\n\r\n            }\r\n            \r\n        }\r\n        \r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addMessageActionCreator = (textOfMessage) => {\r\n    debugger\r\n    return {\r\n        \r\n        type: ADD_MESSAGE_NAME,\r\n        textOfMessage\r\n    }\r\n}\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"Users_img__OMUB_\",\"currentPageBold\":\"Users_currentPageBold__25A1d\"};","import * as axios from \"axios\";\r\nimport Login from \"../Login/Login\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: `https://social-network.samuraijs.com/api/1.0/`,\r\n    headers: {\r\n        \"API-KEY\": \"90b84780-ca16-47cf-bccf-0b371bcc8836\"\r\n    }\r\n})\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n    },\r\n    follow(id) {\r\n        return instance.post(`follow/${id}`).then(response => response.data)\r\n    },\r\n    unfollow(id) {\r\n        return instance.delete(`follow/${id}`).then(response => response.data)\r\n    }\r\n\r\n}\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId).then(response => response.data)\r\n\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId).then(response => response.data)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status/`, {status}).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const headerAPI = {\r\n    getAuth() {\r\n        return instance.get(`auth/me`).then(response => response.data)\r\n    },\r\n    login(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe}).then(response => response.data)\r\n\r\n    },\r\n    logout(){\r\n        return instance.delete(`auth/login`).then(response => response.data)\r\n    }\r\n}\r\n\r\n// export const getUsers = (currentPage = 1, pageSize = 10) => {\r\n//     return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\r\n// }\r\n\r\n// export const following = (id) => {\r\n//     return instance.delete(`follow/${id}`).then(response => response.data)\r\n// }\r\n// export const unFollowing = (id) => {\r\n//     return instance.post(`follow/${id}`).then(response => response.data)\r\n// }","import {\r\n    stopSubmit\r\n} from \"redux-form\";\r\nimport {\r\n    headerAPI\r\n} from \"../api/api\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\n\r\n\r\nlet initialState = {\r\n\r\n    userId: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA: {\r\n\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n    // debugger;\r\n    return {\r\n        type: SET_USER_DATA,\r\n        data: {\r\n            userId,\r\n            login,\r\n            email,\r\n            isAuth\r\n        }\r\n    }\r\n}\r\n\r\nexport const getAuth = () => {\r\n    return async (dispatch) => {\r\n        const data = await headerAPI.getAuth();\r\n\r\n        if (data.resultCode === 0) {\r\n            let {\r\n                id,\r\n                login,\r\n                email\r\n            } = data.data;\r\n            dispatch(setAuthUserData(id, login, email, true))\r\n        }\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\nexport const login = (email, password, rememberMe) => {\r\n    return async (dispatch) => {\r\n        const data = await headerAPI.login(email, password, rememberMe);\r\n        if (data.resultCode === 0) {\r\n            dispatch(getAuth())\r\n        } else {\r\n            dispatch(stopSubmit(\"login\", {\r\n                _error: data.messages[0]\r\n            }))\r\n        }\r\n\r\n\r\n    }\r\n}\r\n// zdes?\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        const data = await headerAPI.logout();\r\n        if (data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false))\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import s from \"./Navbar.module.css\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <ul>\r\n                <li><NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink></li>\r\n                <li><NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink></li>\r\n                <li><NavLink to=\"/users\" activeClassName={s.active}>User</NavLink></li>\r\n                <li><NavLink to=\"/music\" activeClassName={s.active}>Music</NavLink></li>\r\n                <li><NavLink to=\"/settings\" activeClassName={s.active}>Setting</NavLink></li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default Navbar;","import React from \"react\"\r\n\r\nconst Music = (props) =>{\r\n    return (\r\n        <div>\r\n            Music\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Music;","import React from \"react\"\r\n\r\nconst Settings = (props) =>{\r\n    return (\r\n        <div>\r\n            Settings\r\n            \r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Settings;","export const usersMapping = (items, objectId, userId, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objectId] === userId) {\r\n            return {\r\n                ...u,\r\n                ...newObjProps\r\n            }\r\n        }\r\n        return u;\r\n    })\r\n}","import {\r\n    usersAPI\r\n} from \"../api/api\";\r\nimport {\r\n    usersMapping\r\n} from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = \"users/FOLLOW\";\r\nconst UNFOLLOW = \"users/UNFOLLOW\"\r\nconst SET_USERS = \"users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\n\r\n\r\n\r\nlet initialState = {\r\n\r\n    users: [],\r\n    totalUsersCount: 0,\r\n    pageSize: 100,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n\r\n\r\n\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW: {\r\n\r\n            return {\r\n                ...state,\r\n                users: usersMapping(state.users, \"id\", action.userId, {\r\n                    followed: true\r\n                })\r\n                //  state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {\r\n                //             ...u,\r\n                //             followed: true\r\n                //         }\r\n                //     }\r\n                //     return u;\r\n                // }),\r\n\r\n\r\n            }\r\n\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: usersMapping(state.users, \"id\", action.userId, {\r\n                    followed: false\r\n                })\r\n                //  state.users.map(u => {\r\n                //     if (u.id === action.userId) {\r\n                //         return {\r\n                //             ...u,\r\n                //             followed: false\r\n                //         }\r\n                //     }\r\n                //     return u;\r\n                // }),\r\n\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,\r\n                currentPage: action.currentPage\r\n            }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {\r\n                ...state,\r\n                totalUsersCount: action.totalUsersCount\r\n            }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFollowing ? [...state.followingInProgress, action.userId] : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\n\r\n// ACTIONS CREATORS\r\nexport const followSuccess = (userId) => {\r\n    return {\r\n        type: FOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\nexport const unfollowSuccess = (userId) => {\r\n    return {\r\n        type: UNFOLLOW,\r\n        userId: userId\r\n    }\r\n}\r\nexport const setUsers = (users) => {\r\n    return {\r\n        type: SET_USERS,\r\n        users: users\r\n    }\r\n}\r\nexport const setCurrentPage = (currentPage) => {\r\n    return {\r\n        type: SET_CURRENT_PAGE,\r\n        currentPage\r\n    }\r\n}\r\nexport const setTotalUsersCount = (totalUsersCount) => {\r\n    return {\r\n        type: SET_TOTAL_USERS_COUNT,\r\n        totalUsersCount\r\n    }\r\n}\r\nexport const toggleIsFetching = (isFetching) => {\r\n    return {\r\n        type: TOGGLE_IS_FETCHING,\r\n        isFetching\r\n    }\r\n}\r\n\r\nexport const toggleFollowingProgress = (isFollowing, userId) => {\r\n    return {\r\n        type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n        isFollowing,\r\n        userId\r\n    }\r\n}\r\n\r\nexport const requestUsers = (currentPage, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n        // debugger;\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n    }\r\n}\r\nconst followUnfollow = async (dispatch, userId, apiMethod, action) => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    const data = await apiMethod(userId)\r\n    if (data.resultCode === 0) {\r\n        dispatch(action(userId))\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollow(dispatch, userId, unfollow, unfollowSuccess)\r\n        // dispatch(toggleFollowingProgress(true, userId))\r\n        // const data = await usersAPI.unfollow(userId)\r\n        // if (data.resultCode === 0) {\r\n        //     dispatch(unfollowSuccess(userId))\r\n        //     dispatch(toggleFollowingProgress(false, userId))\r\n        // }\r\n\r\n    }\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        followUnfollow(dispatch, userId, usersAPI.follow, followSuccess)\r\n        // dispatch(toggleFollowingProgress(true, userId))\r\n        // const data = await usersAPI.follow(userId)\r\n        // if (data.resultCode === 0) {\r\n        //     dispatch(followSuccess(userId))\r\n        //     dispatch(toggleFollowingProgress(false, userId))\r\n        // }\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, {useState} from 'react';\r\nimport styles from \"./Pagination.module.css\"\r\nimport Preloader from \"../Preloader/Preloader\"\r\nimport cn from \"classnames\";\r\n\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n    return <div className={styles.paginator}>\r\n        { portionNumber > 1 &&\r\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\r\n                .map((p) => {\r\n                return <span className={ cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber) }\r\n                             key={p}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p);\r\n                             }}>{p}</span>\r\n            })}\r\n            { portionCount > portionNumber &&\r\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\r\n\r\n\r\n    </div>\r\n}\r\n\r\n////// Мой вариант\r\n//     let totalPages = Math.ceil(totalItemsCount / pageSize)\r\n\r\n//     let pages = [];\r\n//     for (let i = 1; i <= totalPages; i++) {\r\n//         pages.push(i)\r\n//     }\r\n\r\n//     let portionCount = Math.ceil(totalPages / portionSize );\r\n//     let [portionNumber, setPortionNumber] = useState(1);\r\n//     let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n//     let rightPortionPageNumber = portionNumber * portionSize;   \r\n \r\n\r\n\r\n//     return (\r\n        \r\n//         <div className=\"\">\r\n//             {portionNumber > 1 && <button onClick={() => {setPortionNumber(portionNumber - 1)} }>Prev </button> }\r\n//              {pages\r\n//             .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n//             .map((p) => {\r\n//                 return <span className={currentPage === p && s.currentPageBold} key={p} onClick={(e) => onPageChanged(p)}>{p}</span>\r\n//             })}\r\n//             {portionCount > portionNumber && <button onClick={() => setPortionNumber(portionNumber + 1)}>Вперед </button> }\r\n//         </div>\r\n//     )\r\n// }\r\n\r\n\r\n\r\n\r\nexport default Paginator;","export default __webpack_public_path__ + \"static/media/1.e430e235.png\";","import React from \"react\";\r\nimport s from \"./Users.module.css\"\r\nimport userPhoto from \"../../assets/1.png\"\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"../../common/Paginaton/Pagination\";\r\n\r\n\r\nconst User = ({users, follow, unfollow, followingInProgress}) => {\r\n    // let totalPages = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    // let pages = []\r\n    // for (let i = 1; i <= totalPages; i++) {\r\n    //     pages.push(i)\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className=\"\">          \r\n            {users.map(u => {\r\n                return (<div className=\"users\" key={u.id}>\r\n                    <NavLink to={`/profile/${u.id}`}><div className={s.img}> <img src={u.photos.small || userPhoto} alt=\"\" className=\"\" /> </div></NavLink>\r\n                    <div className=\"follow-unfollow\">{u.followed\r\n                        ? <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            unfollow(u.id)\r\n\r\n\r\n                        }}>\r\n                            Unfollow</button>\r\n                        : <button disabled={followingInProgress.some(id => id === u.id)} onClick={() => {\r\n                            follow(u.id)\r\n\r\n\r\n                        }}>\r\n                            Follow</button>}</div>\r\n                    <div className=\"fullname\">{u.name}</div>\r\n                    <div className=\"status\">{u.status}</div>\r\n                    \r\n                </div>)\r\n\r\n            })}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default User;","import React from \"react\";\r\n// import s from \"./Users.module.css\"\r\n// import userPhoto from \"../../assets/1.png\"\r\n// import { NavLink } from \"react-router-dom\";\r\nimport Paginator from \"../../common/Paginaton/Pagination\";\r\nimport User from \"./User\";\r\n\r\n\r\nconst Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n    // let totalPages = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    // let pages = []\r\n    // for (let i = 1; i <= totalPages; i++) {\r\n    //     pages.push(i)\r\n    // }\r\n\r\n\r\n    return (\r\n        <div className=\"\">\r\n\r\n            <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize}\r\n             currentPage={currentPage} onPageChanged={onPageChanged}\r\n              portionSize={10} />\r\n\r\n            <User users={users} follow={props.follow} unfollow={props.unfollow} followingInProgress={props.followingInProgress} />\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default Users;","import { createSelector } from \"reselect\"\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, \r\n    (users) => users.filter(u => true)\r\n    )\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { follow, setCurrentPage, setTotalUsersCount, unfollow, toggleFollowingProgress, requestUsers } from \"../../redux/users-reducer\";\r\n// import UsersApiContainer from \"./Users\";\r\n// import Users from \"./Users\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from \"../../redux/users-selectors\";\r\n\r\n\r\n\r\nclass UsersApiContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n       \r\n    }\r\n    onPageChanged = (p) => {\r\n        this.props.setCurrentPage(p)\r\n        this.props.requestUsers(p, this.props.pageSize)\r\n       \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.props.isFetching ? <Preloader /> : null}\r\n                <Users totalUsersCount={this.props.totalUsersCount}\r\n                    pageSize={this.props.pageSize}\r\n                    onPageChanged={this.onPageChanged}\r\n                    unfollow={this.props.unfollow}\r\n                    follow={this.props.follow}\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    followingInProgress={this.props.followingInProgress}\r\n                    toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n\r\n                />\r\n            </>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: getUsers(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n\r\n}\r\n\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => dispatch(followAC(userId)),\r\n//         unfollow: (userId) => dispatch(unfollowAC(userId)),\r\n//         setUsers: (users) => dispatch(setUsersAC(users)),\r\n//         setCurrentPage: (currentPage) => dispatch(setCurrentPageAC(currentPage)),\r\n//         setTotalUsersCount: (totalUsersCount) => dispatch(setTotalUsersCountAC(totalUsersCount)),\r\n//         toggleIsFetching: (isFetching) => dispatch(toggleIsFetchingAC(isFetching))\r\n//     }\r\n// }\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    toggleFollowingProgress,\r\n    requestUsers\r\n})(UsersApiContainer)\r\n\r\nexport default UsersContainer","import s from \"./Header.module.css\";\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src=\"https://pngimage.net/wp-content/uploads/2018/06/logo-fotografer-png-1.png\" alt=\"imag\" />\r\n            <div className={s.loginUser}>\r\n                <NavLink to=\"/login\"> <span>{props.login !== null ? <span>{props.login} <button onClick={props.logout}>Logout</button></span> : \"Login\"}</span></NavLink>\r\n                </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setAuthUserData, getAuth, logout } from \"../../redux/auth-reducer\";\r\nimport Header from \"./Header\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {    \r\n    render() {\r\n        return (<Header {...this.props} />)\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        login: state.auth.login,\r\n        email: state.auth.email,\r\n                \r\n\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { setAuthUserData, getAuth, logout })(HeaderContainer);","import { stopSubmit } from \"redux-form\";\r\nimport { headerAPI } from \"../api/api\";\r\nimport { getAuth } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED_SUCCESS\";\r\n\r\n\r\nlet initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n                \r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => {\r\n    // debugger;\r\n    return {\r\n        type: INITIALIZED_SUCCESS\r\n       \r\n    }\r\n}\r\n\r\nexport const initializedApp = ()=> {\r\n    return (dispatch)=>{\r\n        const promise = dispatch(getAuth())\r\n        Promise.all([promise])\r\n        .then(() => {\r\n            dispatch(initializedSuccess())\r\n        })\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default appReducer;","import React, { Suspense } from \"react\";\r\n\r\nconst withSuspense = (Component) => {\r\n    return (props) =>  {\r\n        return(\r\n            <Suspense fallback={<div>Now is loading...</div>}>            \r\n                <Component {...props} />\r\n            </Suspense> \r\n        )\r\n    }\r\n        \r\n    \r\n}\r\nexport default withSuspense","import React, { lazy, Suspense } from \"react\";\nimport './App.css';\n// import Header from './components/Header/Header';\nimport Navbar from './components/Navbar/Navbar';\n// import Profile from './components/Profile/Profile';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport {Route, withRouter } from 'react-router-dom';\n// import News from './components/News/News';\n// import DialogsContainer from './components/Dialogs/DialogsContainer';\nimport UsersContainer from './components/Users/UsersContainer';\n// import ProfileComponent from './components/Profile/ProfileComponent';\nimport HeaderContainer from './components/Header/HeaderComponent';\nimport Login from './Login/Login';\nimport { compose } from 'redux';\n// import getAuth from \"./redux/auth-reducer\"\nimport { connect } from 'react-redux';\nimport {initializedApp} from './redux/app-reducer'\nimport Preloader from \"./common/Preloader/Preloader\";\nimport withSuspense from \"./hoc/withSuspense\";\n\n// import Users from './components/Users/Users';\nconst ProfileComponent = lazy(() => import('./components/Profile/ProfileComponent'))\nconst DialogsContainer = lazy(() => import('./components/Dialogs/DialogsContainer'))\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializedApp()\n  }\n  render (){\n    if(!this.props.initialized){\n      return <Preloader />\n    }\n    return (\n      <div className=\"wrapper\">\n        <HeaderContainer />\n        <Navbar />\n        <div className=\"wrapper-content\">\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n          <Route path=\"/profile/:userId?\" render={withSuspense(ProfileComponent)} />         \n          <Route path=\"/users\" render={() => <UsersContainer /> } />\n          <Route path=\"/login\" render={() => <Login /> } />\n          {/* <Route path=\"/news\" render={News} />          */}\n          <Route path=\"/music\" render={Music} />\n          <Route path=\"/settings\" render={Settings} />\n        \n        </div>\n        \n      \n    </div>\n    \n    )\n  } \n      \n    \n  \n}\nconst mapStateToProps = (state) => {\n  return {\n    initialized: state.appInitialized.initialized\n  }\n}\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, {initializedApp}))(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { applyMiddleware, combineReducers, compose, createStore } from \"redux\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    appInitialized: appReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers( applyMiddleware(thunkMiddleware)));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n// import state, { subscribe } from \"./redux/state\";\nimport store from \"./redux/redux-store\";\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n// import {addMessageName, addPost, updateMessageText, updatePostText} from \"./redux/state\";\n// Data\n\n\n  ReactDOM.render(  \n    <HashRouter>\n      <Provider store={store}>\n          <App />\n      </Provider>\n     \n    </HashRouter>,    \n  \n  document.getElementById('root')\n  )  \n\n\n\n\nreportWebVitals();\n","import React from \"react\";\r\nimport { Field } from \"redux-form\";\r\nimport s from \"./FormsControls.module.css\"\r\n\r\nconst FormControl = ({ input, meta: {touched, error}, child, ...props }) => {\r\n    // debugger;\r\n    const hasError = error && touched;\r\n    return (\r\n        <div className={s.formsControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                {props.children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n            {/* <span>\"some error\"</span> */}\r\n\r\n\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\n\r\nexport const Textarea = (props) => {\r\n    // debugger;\r\n    const { input, meta, child, ...restProps } = props\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    // debugger;\r\n    const { input, meta, child, ...restProps } = props\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\nexport const createField = (placeholder, nameField, validate, component, props = {}, text = \"\") => (\r\n \r\n    <div>\r\n        <Field placeholder={placeholder}\r\n            name={nameField}\r\n            validate={validate}\r\n            component={component}\r\n            {...props}\r\n        /> {text}\r\n    </div>\r\n)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__QMuAi\",\"active\":\"Navbar_active__2WC8z\"};","export default __webpack_public_path__ + \"static/media/loading.39ee2642.gif\";","import React from \"react\"\r\nimport loadingGif from \"../../assets/loading.gif\"\r\n\r\nlet Preloader = (props) => {\r\n    return (\r\n        <div className=\"loading-block\" >         \r\n         <img src={loadingGif} style={{width: \"200px\"}} alt=\"photography\" />\r\n        </div>\r\n    )\r\n}\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formsControl\":\"FormsControls_formsControl__39en-\",\"error\":\"FormsControls_error__2lmOQ\",\"formsSummaryError\":\"FormsControls_formsSummaryError__2SovT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Pagination_paginator__29W7A\",\"pageNumber\":\"Pagination_pageNumber__3QKem\",\"selectedPage\":\"Pagination_selectedPage__2YH3i\"};","import React from \"react\";\r\n\r\n\r\n\r\nexport const required = value => {\r\n    if (value) return undefined;\r\n\r\n    return \"Field is Required\";\r\n\r\n} \r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if(value.length > maxLength) return `Error. MaxLength is must be less ${maxLength}`\r\n\r\n    return undefined;\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { Field, reduxForm  } from \"redux-form\";\r\nimport { createField, Input } from \"../common/FormsControl/FormsControls\";\r\nimport { login } from \"../redux/auth-reducer\";\r\nimport { required } from \"../utils/validations\";\r\nimport s from \"../common/FormsControl/FormsControls.module.css\"\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (<div>\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                {/* <Field placeholder={\"email\"} name={\"email\"} validate={[required]} component={Input} /> */}\r\n                {createField(\"Email\", \"email\", [required], Input)}\r\n                {createField(\"Password\", \"password\", [required], Input, {type: \"password\"})}\r\n                {createField('', \"rememberMe\", null, Input, {type: \"checkbox\"}, \"remember me\" )}\r\n\r\n            </div>\r\n            {/* <div>\r\n                <Field placeholder={\"Password\"} name={\"password\"} validate={[required]} component={Input} />\r\n            </div>\r\n            <div>\r\n                <Field type={\"checkbox\"} component={Input} validate={[required]} name={\"rememberMe\"} /> remember me\r\n            </div> */}\r\n            {error && <div className={s.formsSummaryError}>\r\n                {error}\r\n                \r\n            </div>}\r\n            <div>\r\n\r\n                <button >Log in</button>\r\n            </div>\r\n        </form>\r\n\r\n    </div>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: \"login\"})(LoginForm)\r\n\r\nconst Login = (props) => {\r\n    // debugger;\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe);\r\n        \r\n        \r\n    }\r\n    if(props.isAuth === true) {\r\n        return <Redirect to={\"/profile\"} />\r\n    }\r\n    return (\r\n        <div>\r\n            <h1>Log-in:</h1>\r\n            <LoginReduxForm onSubmit={onSubmit} />\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) =>{\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {login})(Login)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2mQcI\",\"loginUser\":\"Header_loginUser__22xRU\"};"],"sourceRoot":""}